

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Errata &mdash; Maple v0.0.9 Documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/round_logo_32x32.ico"/>
    <link rel="top" title="Maple v0.0.9 Documentation" href="index.html" />
    <link rel="next" title="I2C" href="i2c.html" />
    <link rel="prev" title="Troubleshooting" href="troubleshooting.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="i2c.html" title="I2C"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="troubleshooting.html" title="Troubleshooting"
             accesskey="P">previous</a> |</li>
    <li><a href="http://leaflabs.com">LeafLabs</a> |</li>
    <li><a href="index.html">Docs Home</a> |</li>
    
        <li><a href="index.html">Index</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="errata">
<span id="id1"></span><h1>Errata<a class="headerlink" href="#errata" title="Permalink to this headline">¶</a></h1>
<p>This page is a collection of known issues and warnings for each
revision of the Maple board. The failure modes aren&#8217;t design errors,
but are easy ways to break or damage your board permanently. For a
list of differences between the Maple and Arduinos, see the
<a class="reference internal" href="compatibility.html#compatibility"><em>compatibility reference</em></a>.</p>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#maple-rev-5" id="id2">Maple Rev 5</a></li>
<li><a class="reference internal" href="#maple-rev-3" id="id3">Maple Rev 3</a></li>
<li><a class="reference internal" href="#maple-rev-1" id="id4">Maple Rev 1</a></li>
</ul>
</div>
<div class="section" id="maple-rev-5">
<h2><a class="toc-backref" href="#id2">Maple Rev 5</a><a class="headerlink" href="#maple-rev-5" title="Permalink to this headline">¶</a></h2>
<p>These boards went on sale in November 2010.  They have white buttons,
and &#8220;r5&#8221; in small print near the &#8220;LeafLabs Maple&#8221; text next to the
&#8220;infinity-leaf&#8221; logo, among other changes:</p>
<div class="figure align-center">
<img alt="Maple Rev 5" src="_images/maple_rev5.png" />
</div>
<p>Known issues:</p>
<ul class="simple">
<li><strong>GPIO 39-43 not configured</strong>: this is really more of a software
&#8220;TODO&#8221; item.  Some of the JTAG header pins are numbered 39-43. These
STM32 pins are indeed fully functional <a class="reference internal" href="gpio.html#gpio"><em>GPIO</em></a> when the a
<a class="reference internal" href="jtag.html#jtag"><em>JTAG</em></a> device is not connected, but we have not enabled
them in software and thus they can not be accessed with the regular
<a class="reference internal" href="lang/api/pinmode.html#lang-pinmode"><em>pinMode()</em></a> or <a class="reference internal" href="lang/api/digitalwrite.html#lang-digitalwrite"><em>digitalWrite()</em></a> functions.</li>
</ul>
<p>Potential failure modes:</p>
<ul class="simple">
<li><strong>TTL voltage on non-tolerant pins</strong>: not all header pins are 5V
compatible; connecting certain serial devices in the wrong way could
over voltage the pins.  The <a class="reference internal" href="gpio.html#pin-mapping-mega-table"><em>Pin-Mapping Mega Table</em></a> details which pins are 5V-tolerant.</li>
</ul>
</div>
<div class="section" id="maple-rev-3">
<h2><a class="toc-backref" href="#id3">Maple Rev 3</a><a class="headerlink" href="#maple-rev-3" title="Permalink to this headline">¶</a></h2>
<p>This batch of boards went on sale beginning in May 2010. They have a
darker red silkscreen and the &#8220;infinity-leaf&#8221; logo:</p>
<div class="figure align-center">
<img alt="Maple Rev 3" src="_images/maple_rev3.png" />
</div>
<p>Known issues:</p>
<ul>
<li><p class="first"><strong>Bad/Sticky Buttons</strong>: a number of Rev 3 boards sold in May-June 2010
have questionable RESET and BUT buttons.</p>
<p>What seems to have happened is that the flux remover we used to
clean the boards before shipping eroded the plastic internals, which
resulted in intermittent functionality. All buttons on all shipped
boards did function in testing, but some may have been unreliable in
regular use.</p>
<p>If you have this problem, we will be happy to ship you new buttons
if you think you can re-solder them yourself, or you can ship us
your board and we will swap out that part.</p>
<p>For reference, the button part number is KMR211GLFS and the flux
remover we used is &#8220;Precision Electronics Cleaner&#8221; from RadioShack,
which is &#8220;Safe on most plastics&#8221; and contains Dipropylene glycol
monomethyl ether, hydrotreated heavy naphtha, dipropylene glycol
methyl ether acetate (really?), and carbon dioxide.</p>
</li>
<li><p class="first"><strong>Resistors on pins 0 and 1</strong>: these header pins, which are RX/TX on
USART2 (<a class="reference internal" href="lang/api/serial.html#lang-serial"><em>Serial2</em></a>), have resistors in-line
between the STM32 and the headers. These resistors increase the
impedance of the lines for ADC reads and affect the open drain GPIO
functionality of the pins.</p>
<p>These resistors were accidentally copied over from older Arduino USB
designs, where they appear to protect the USB-Serial converter from
TTL voltage on the headers.</p>
</li>
<li><p class="first"><strong>GPIO 39-43 not configured</strong>: this is really more of a software
&#8220;TODO&#8221; item.  Some of the JTAG header pins are numbered 39-43. These
STM32 pins are indeed fully functional <a class="reference internal" href="gpio.html#gpio"><em>GPIO</em></a> when the a
<a class="reference internal" href="jtag.html#jtag"><em>JTAG</em></a> device is not connected, but we have not enabled
them in software and thus they can not be accessed with the regular
<a class="reference internal" href="lang/api/pinmode.html#lang-pinmode"><em>pinMode()</em></a> or <a class="reference internal" href="lang/api/digitalwrite.html#lang-digitalwrite"><em>digitalWrite()</em></a> functions.</p>
</li>
<li><p class="first"><strong>Silkscreen Errors</strong>: the silkscreen on the bottom indicated PWM
functionality on pin 25 and listen the external header GND pin as
number 38 (actually 38 is connected to the BUT button). We manually
sharpied over both of these mistakes.</p>
</li>
<li><p class="first"><strong>PWM Marketing Mistake</strong>: We originally sold the Maple advertising
22 channels of 16-bit hardware PWM; actually the Maple only has 15.</p>
</li>
</ul>
<p>Potential failure modes:</p>
<ul class="simple">
<li><strong>TTL voltage on non-tolerant pins</strong>: not all header pins are 5V
compatible; connecting certain serial devices in the wrong way could
over voltage the pins.  The <a class="reference internal" href="gpio.html#pin-mapping-mega-table"><em>Pin-Mapping Mega Table</em></a> details which pins are 5V-tolerant.</li>
</ul>
</div>
<div class="section" id="maple-rev-1">
<h2><a class="toc-backref" href="#id4">Maple Rev 1</a><a class="headerlink" href="#maple-rev-1" title="Permalink to this headline">¶</a></h2>
<p>This batch of 100 boards shipped in later 2009. They have a red
silkscreen and the logo is a single pixelated leaf:</p>
<div class="figure align-center">
<img alt="Maple Rev 1" src="_images/maple_rev1.png" />
</div>
<p>Known issues:</p>
<ul>
<li><p class="first"><strong>ADC noise</strong>: generally very high, in particular when the USB port
is being used for communications (including keep-alive pings when
connected to a computer).</p>
<p>This issue was resolved in Rev 3 with a 4-layer design and a
geometrically isolated ADC V<sub>ref</sub> plane.</p>
</li>
<li><p class="first"><strong>Resistors on pins 0 and 1</strong>: these header pins, which are RX/TX on
USART2 (<a class="reference internal" href="lang/api/serial.html#lang-serial"><em>Serial2</em></a>), have resistors in-line
between the STM32 and the headers. These resistors increase the
impedance of the lines for ADC reads and affect the open drain GPIO
functionality of the pins.</p>
<p>These resistors were accidentally copied over from older Arduino USB
designs, where they appear to protect the USB-Serial converter from
TTL voltage on the headers.</p>
</li>
<li><p class="first"><strong>Silkscreen Differences</strong>: the pin numbering scheme on Rev 1 is
different from Rev 3, and thus Rev 3 software is difficult to use
with Rev 1 boards. Notably, the analog input bank is labeled A0-A4
on Rev 1 but 15-20 on Rev 3, and the extra header bank does not have
a pinout table on the bottom.</p>
</li>
<li><p class="first"><strong>No BUT Button</strong>: the BUT button, useful for serial bootloading,
was only added in Rev 3. As a workaround, you can directly short the
appropriate MCU pin to Vcc; see <a class="reference external" href="http://forums.leaflabs.com/topic.php?id=32#post-126">this forum posting</a>.</p>
</li>
<li><p class="first"><strong>PWM Marketing Mistake</strong>: We originally sold the Maple advertising
22 channels of 16-bit hardware PWM; actually the Maple only has 15.</p>
</li>
</ul>
<p>Potential failure modes:</p>
<ul class="simple">
<li><strong>TTL voltage on non-tolerant pins</strong>: not all header pins are 5v
compatible; connecting certain serial devices in the wrong way could
over voltage the pins. The <a class="reference internal" href="gpio.html#pin-mapping-mega-table"><em>Pin-Mapping Mega Table</em></a> details which pins are 5V-tolerant.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/round_logo_60x60.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="maple-quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="maple-ide-install.html">IDE Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ide.html">IDE Anatomy</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="language.html">Maple Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="libraries.html">Maple Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="compatibility.html">Arduino Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-interrupts.html">External Interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="libmaple.html">Command-Line Tools &amp; APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="bootloader.html">Bootloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Known Problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#maple-rev-5">Maple Rev 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maple-rev-3">Maple Rev 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maple-rev-1">Maple Rev 1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="i2c.html">I<sup>2</sup>C</a></li>
<li class="toctree-l1"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpio.html">GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="usb.html">USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="jtag.html">JTAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="adc.html">ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="spi.html">SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="usart.html">USART</a></li>
<li class="toctree-l1"><a class="reference internal" href="timers.html">Timers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="specs.html">Technical Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="language-index.html">Complete Language Index</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="i2c.html" title="I2C"
             >next</a></li>
        <li class="right" >
          <a href="troubleshooting.html" title="Troubleshooting"
             >previous</a> |</li>
    <li><a href="http://leaflabs.com">LeafLabs</a> |</li>
    <li><a href="index.html">Docs Home</a> |</li>
    
        <li><a href="index.html">Index</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, LeafLabs, LLC.
      Last updated on Dec 21, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>